<html>
  <head>
    <style>
      body{
        color: #090;
        background-color: black;
        font-family: arial;
      }
    </style>
  </head>
  <body>

    <div id="log">

    </div>

    <script src="http://localhost/socket.io/socket.io.js"></script>
    <script>

      function log(text){
        document.getElementById('log').innerHTML = document.getElementById('log').innerHTML + '> ' + text + '<br />';
      }

      var roomId = window.location.hash;

      var socket = io.connect('http://localhost');
      socket.emit('initialize', {'roomId' : roomId})

      socket.on('connect', function(data){
        log('connected');
      });

      socket.on('room-joined', function(data){
        log('Room joined by ' + data['author-id'] + ' at ' + data['served-at']);
      });

      socket.on('room-left', function(data){
        log('Room left by ' + data['author-id'] + ' at ' + data['served-at']);
      });

      socket.on('error', function(data){
        log('error: ' + data.message);
      });

      socket.on('disconnect', function(data){
        log('disconnected');
      });
    </script>

  </body>
</html>